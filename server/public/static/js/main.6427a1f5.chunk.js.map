{"version":3,"sources":["components/DateForm.tsx","components/ProfitTable.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["customStyles","option","provided","borderBottom","color","padding","commonStyle","height","DateForm","props","Form","Row","Col","md","Label","style","type","value","fromDate","onChange","newFromDate","toDate","newToDate","Group","currencySelected","map","currency","label","styles","isMulti","isSearchable","newCurrencySelected","options","currencyList","fontSize","className","ChangeShowBuyDate","ProfitTable","showBuyDate","Table","striped","bordered","hover","variant","colSpan","format","date","data","buy","sell","price","moment","time","profit","toFixed","App","useState","state","setState","setProfit","setShowBuyDate","useEffect","getCurrencies","getProfits","a","fetch","json","postData","split","join","method","headers","body","JSON","stringify","e","target","selected","Container","margin","checked","Object","keys","i","key","sm","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6427a1f5.chunk.js","sourcesContent":["// Import necessary libraries\nimport React from 'react';\nimport Form from 'react-bootstrap/Form'\nimport Col from 'react-bootstrap/Col'\nimport Select from 'react-select'\nimport './slider.css'\n\nconst customStyles = {\n  option: (provided: any) => ({\n    ...provided,\n    borderBottom: '1px dotted pink',\n    color: 'black',\n    padding: 20,\n  }),\n}\nconst commonStyle = {height: '4rem'};\n// Functional component for dispaying the form\nconst DateForm = (props: any) => {\n\n  return (\n    <form>\n      <Form.Row>\n      <Col md={3}>\n      <Form.Label>From Date</Form.Label>\n          <input\n            style={commonStyle}\n            type=\"date\"\n            value={props.fromDate}\n            onChange={props.newFromDate} />\n      </Col>\n      <Col md={3}>\n        <Form.Label>To Date</Form.Label>\n          <input\n            style={commonStyle}\n            type=\"date\"\n            value={props.toDate}\n            onChange={props.newToDate} />\n      </Col>\n      <Col md={4}>\n        <Form.Group>\n          <Form.Label>Currencies</Form.Label>\n            <Select\n              value={props.currencySelected.map((currency: string)=>{\n                return { value: currency, label: currency }\n              })}\n              style={commonStyle}\n              styles={customStyles}\n              isMulti\n              isSearchable\n              onChange={props.newCurrencySelected}\n              options={props.currencyList.map((currency: string)=>{\n                return { value: currency, label: currency }\n              })}\n            />\n        </Form.Group>\n      </Col>\n      <Col md={2}>\n        <Form.Group>\n          <Form.Label style={{fontSize: \"2rem\"}}>Show Buy Date</Form.Label>\n          {/* <Form.Check type=\"checkbox\" /> */}\n          <label className=\"switch\">\n            <input type=\"checkbox\" onChange={props.ChangeShowBuyDate}/>\n            <span className=\"slider round\"></span>\n          </label>\n        </Form.Group>\n      </Col>\n      </Form.Row>\n    </form>\n  )\n}\n// Export the component as the default object\nexport default DateForm;\n","// Import necessary libraries\nimport React from 'react';\nimport Table from 'react-bootstrap/Table'\nimport Moment from 'react-moment'\nimport moment from 'moment'\n// Functional component for dispaying the profit data\nconst ProfitTable = (props: any) => {\n  return (\n    <div>\n    {\n        props.showBuyDate?\n        <Table striped bordered hover variant=\"dark\">\n          <tbody>\n            <tr><th colSpan={2}>{props.currency}</th></tr>\n            <tr>\n              <td colSpan={1}><Moment format=\"DD-MMMM-YY\" date={props.data.buy.date}/></td>\n              <td colSpan={1}><Moment format=\"DD-MMMM-YY\" date={props.data.sell.date}/></td>\n            </tr>\n            <tr><td>Buy</td><td>Sell</td></tr>\n            <tr><td>${props.data.buy.price}</td><td>${props.data.sell.price}</td></tr>\n            <tr>\n              <td><Moment format=\"hh:mma\" date={moment(props.data.buy.time, \"HHmm\")}/></td>\n              <td><Moment format=\"hh:mma\" date={moment(props.data.sell.time, \"HHmm\")}/></td>\n            </tr>\n            <tr><td colSpan={2}>Profit: ${props.data.profit.toFixed(2)}</td></tr>\n          </tbody>\n        </Table>:\n        <Table striped bordered hover variant=\"dark\">\n          <tbody>\n            <tr><td colSpan={2}><Moment format=\"DD-MMMM-YY\" date={props.data.sell.date}/></td></tr>\n            <tr><th colSpan={2}>{props.currency}</th></tr>\n            <tr><td>Buy</td><td>Sell</td></tr>\n            <tr><td>${props.data.buy.price}</td><td>${props.data.sell.price}</td></tr>\n            <tr>\n              <td><Moment format=\"hh:mma\" date={moment(props.data.buy.time, \"HHmm\")}/></td>\n              <td><Moment format=\"hh:mma\" date={moment(props.data.sell.time, \"HHmm\")}/></td>\n            </tr>\n            <tr><td colSpan={2}>Profit: ${props.data.profit.toFixed(2)}</td></tr>\n          </tbody>\n        </Table>\n    }\n    </div>\n  )\n}\n// Export the component as the default object\nexport default ProfitTable;\n","import React, {useState, useEffect} from 'react';\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport './App.css';\nimport DateForm from './components/DateForm';\nimport ProfitTable from './components/ProfitTable';\n\ninterface IState {\n  fromDate: string;\n  toDate: string;\n  currencyList: string[];\n  currencySelected: string[];\n}\ninterface IProfit {\n  [key: string]: object;\n}\n\nconst App: React.FC = () => {\n\n  const [state, setState] = useState<IState>({\n    fromDate: '2018-05-07',\n    toDate: '2018-05-08',\n    currencyList: [],\n    currencySelected: []\n  })\n\n  const [profit, setProfit] = useState<IProfit>({});\n  const [showBuyDate, setShowBuyDate] = useState<boolean>(false);\n\n  useEffect(()=>{\n    getCurrencies();\n  }, [])\n\n  useEffect(()=>{\n    getProfits();\n  }, [state])\n\n  // Async function for fetching the currency name list\n  const getCurrencies = async () =>{\n    let data: any = await fetch('/api/currencies');\n    data = await data.json();\n    setState({\n      ...state,\n      currencyList: data,\n      currencySelected: data\n    })\n  }\n\n  // Async function for fetching profits for a given currency list and day interval\n  const getProfits = async () =>{\n    const postData = {\n      fromDate: state.fromDate.split('-').join(''),\n      toDate: state.toDate.split('-').join(''),\n      currencySelected: state.currencySelected\n    }\n    let data: any = await fetch('/api/profits', {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify(postData), // body data type must match \"Content-Type\" header\n    });\n    data = await data.json();\n    setProfit(data)\n  }\n  // Function for handleing onChange of the Show Buy Date input field\n  const ChangeShowBuyDate = (e: any)=>{\n    setShowBuyDate(e.target.checked)\n  }\n  // Function for handleing onChange of the fromDate input field\n  const newFromDate = async (e: any)=>{\n    setState({...state, fromDate: e.target.value })\n  }\n  // Function for handleing onChange of the toDate input field\n  const newToDate = async (e: any)=>{\n    setState({...state, toDate: e.target.value })\n  }\n  // Function for handleing onChange of the currency select input field\n  const newCurrencySelected = async (selected: any)=>{\n\n    setState({\n      ...state,\n      currencySelected: selected.map((currency: {value: string, label: string})=>{\n        return currency.value\n      })\n    });\n  }\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Container>\n          <h1 style={{margin: '50px'}}>Currency Analyser</h1>\n        </Container>\n        <Container>\n          <Row>\n            <DateForm\n              ChangeShowBuyDate={ChangeShowBuyDate}\n              newFromDate={newFromDate}\n              newToDate={newToDate}\n              fromDate={state.fromDate}\n              toDate={state.toDate}\n              currencyList={state.currencyList}\n              newCurrencySelected={newCurrencySelected}\n              currencySelected={state.currencySelected}\n            />\n          </Row>\n        </Container>&nbsp;&nbsp;\n        <Container>\n          <Row className=\"justify-content-md-center\">\n          {Object.keys(profit).map(\n            (currency: string, i: number)=>{\n              return(\n                <Col key={i} sm=\"4\">\n                  <ProfitTable\n                    showBuyDate={showBuyDate}\n                    data={profit[currency]}\n                    currency={currency}\n                  />\n                </Col>\n              )\n            }\n          )}\n          </Row>\n        </Container>\n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}